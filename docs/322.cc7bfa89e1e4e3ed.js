"use strict";(self.webpackChunksmm=self.webpackChunksmm||[]).push([[322],{1322:(B,a,s)=>{s.r(a),s.d(a,{UserModule:()=>T});var g=s(6895),c=s(8185),n=s(1571),r=s(433),_=s(7579),p=s(2722),d=s(3183),h=s(8010);function x(e,i){1&e&&(n.TgZ(0,"div",12),n._uU(1," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"),n.qZA())}function C(e,i){1&e&&(n.TgZ(0,"h2",12),n._uU(1," \u0412\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),n.qZA())}function f(e,i){1&e&&n._UZ(0,"input",13)}function v(e,i){1&e&&(n.TgZ(0,"div"),n._uU(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),n.qZA())}function w(e,i){1&e&&(n.TgZ(0,"div"),n._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b. \u041f\u0435\u0440\u0432\u0430\u044f \u0431\u0443\u043a\u0432\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0438\u043c"),n.qZA())}function M(e,i){if(1&e&&(n.TgZ(0,"div",14),n.YNc(1,v,2,0,"div",11),n.YNc(2,w,2,0,"div",11),n.qZA()),2&e){const t=n.oxw();let u,o;n.xp6(1),n.Q6J("ngIf",null==(u=t.userForm.get("name"))||null==u.errors?null:u.errors.required),n.xp6(1),n.Q6J("ngIf",null==(o=t.userForm.get("name"))||null==o.errors?null:o.errors.pattern)}}function A(e,i){1&e&&(n.O4$(),n.TgZ(0,"svg",15),n._UZ(1,"path",16)(2,"path",17)(3,"path",18),n.qZA())}function k(e,i){1&e&&(n.O4$(),n.TgZ(0,"svg",19),n._UZ(1,"path",20)(2,"path",21)(3,"circle",22),n.qZA())}function Z(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"div")(1,"div",23),n._UZ(2,"input",24),n.TgZ(3,"label",25),n._uU(4,"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"),n.qZA()(),n.TgZ(5,"button",26),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.login())}),n._uU(6,"\u0412\u043e\u0439\u0442\u0438"),n.qZA(),n.TgZ(7,"div",27),n._uU(8," \u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? "),n.TgZ(9,"a",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.passToSignup())}),n._uU(10,"\u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e"),n.qZA()()()}if(2&e){const t=n.oxw();let u;n.xp6(5),n.Q6J("disabled",(null==(u=t.userForm.get("email"))?null:u.invalid)||(null==(u=t.userForm.get("password"))?null:u.invalid))}}const l=function(){return["/policy"]};function O(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"div")(1,"div",29),n._UZ(2,"input",30),n.TgZ(3,"label",31),n._uU(4," \u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e "),n.TgZ(5,"a",32),n._uU(6,"\u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"),n.qZA(),n._uU(7," \u0438 \u0434\u0430\u044e "),n.TgZ(8,"a",33),n._uU(9,"\u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445."),n.qZA()()(),n.TgZ(10,"button",26),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.signup())}),n._uU(11,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),n.qZA(),n.TgZ(12,"div",27),n._uU(13," \u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? "),n.TgZ(14,"a",28),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.passToLogin())}),n._uU(15,"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(5),n.Q6J("routerLink",n.DdM(3,l)),n.xp6(3),n.Q6J("routerLink",n.DdM(4,l)),n.xp6(2),n.Q6J("disabled",!t.userForm.valid&&!t.userForm.controls.agree)}}let m=(()=>{class e{constructor(t,u,o,y){this.fb=t,this.router=u,this.authService=o,this._snackBar=y,this.registration="",this.destroy$=new _.x,this.hide=!0,this.userForm=this.fb.group({name:["",[r.kI.required,r.kI.pattern(/^[A-Z\u0410-\u042f][a-z\u0430-\u044f]*/)]],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],rememberMe:[!1],agree:[!1,r.kI.required]})}passToLogin(){this.router.navigate(["/login"])}passToSignup(){this.router.navigate(["/signup"])}signup(){this.userForm.valid&&this.userForm.value.name&&this.userForm.value.email&&this.userForm.value.password&&this.authService.signup(this.userForm.value.name,this.userForm.value.email,this.userForm.value.password).pipe((0,p.R)(this.destroy$)).subscribe({next:t=>{let u=null;if(void 0!==t.error)throw u=t,this._snackBar.open(u.message),new Error;this.processAuthorization(t,"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c")},error:t=>{this._snackBar.open(t.error&&t.error.message?t.error.message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}})}login(){this.userForm.value.email&&this.userForm.value.password&&this.userForm.value.rememberMe&&this.authService.login(this.userForm.value.email,this.userForm.value.password,this.userForm.value.rememberMe).pipe((0,p.R)(this.destroy$)).subscribe({next:t=>{let u=null;if(void 0!==t.error)throw u=t.message,this._snackBar.open(u),new Error(u);this.processAuthorization(t,"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0448\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0443")},error:t=>{this._snackBar.open(t.error&&t.error.message?t.error.message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}})}processAuthorization(t,u){this.authService.setTokens(t.accessToken,t.refreshToken),this.authService.userId=t.userId,this._snackBar.open(u),this.router.navigate(["/"])}togglePassword(){this.hide=!this.hide}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.qu),n.Y36(c.F0),n.Y36(d.e),n.Y36(h.ux))},e.\u0275cmp=n.Xpm({type:e,selectors:[["auth-account"]],inputs:{registration:"registration"},decls:14,vars:10,consts:[[1,"user",3,"formGroup"],["class","sub-title",4,"ngIf"],[1,"user__info"],["type","text","name","name","id","name","formControlName","name","placeholder","\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",4,"ngIf"],["class","show-error",4,"ngIf"],["type","email","name","email","id","email","formControlName","email","placeholder","\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430","email",""],[1,"user__password"],["name","password","id","password","formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c",1,"user__password-input",3,"type"],[1,"user__password-btn",3,"click"],["class","hide-icon","width","20px","height","20px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","show-icon","width","20px","height","20px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[4,"ngIf"],[1,"sub-title"],["type","text","name","name","id","name","formControlName","name","placeholder","\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"],[1,"show-error"],["width","20px","height","20px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"hide-icon"],["d","M2 2L22 22","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M6.71277 6.7226C3.66479 8.79527 2 12 2 12C2 12 5.63636 19 12 19C14.0503 19 15.8174 18.2734 17.2711 17.2884M11 5.05822C11.3254 5.02013 11.6588 5 12 5C18.3636 5 22 12 22 12C22 12 21.3082 13.3317 20 14.8335","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 14.2362C13.4692 14.7112 12.7684 15.0001 12 15.0001C10.3431 15.0001 9 13.657 9 12.0001C9 11.1764 9.33193 10.4303 9.86932 9.88818","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","20px","height","20px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"show-icon"],["d","M1 12C1 12 5 4 12 4C19 4 23 12 23 12","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M1 12C1 12 5 20 12 20C19 20 23 12 23 12","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","3","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"user__info-checkbox"],["type","checkbox","id","remember","formControlName","rememberMe"],["for","remember"],[1,"button",3,"disabled","click"],[1,"user__link"],[3,"click"],[1,"user__info-checkbox","signup-checkbox"],["type","checkbox","id","agree","formControlName","agree"],["for","agree"],["fragment","agreement",3,"routerLink"],["fragment","personalInfo",3,"routerLink"]],template:function(t,u){if(1&t&&(n.TgZ(0,"div",0),n.YNc(1,x,2,0,"div",1),n.YNc(2,C,2,0,"h2",1),n.TgZ(3,"div",2),n.YNc(4,f,1,0,"input",3),n.YNc(5,M,3,2,"div",4),n._UZ(6,"input",5),n.TgZ(7,"div",6),n._UZ(8,"input",7),n.TgZ(9,"button",8),n.NdJ("click",function(){return u.togglePassword()}),n.YNc(10,A,4,0,"svg",9),n.YNc(11,k,4,0,"svg",10),n.qZA()(),n.YNc(12,Z,11,1,"div",11),n.YNc(13,O,16,5,"div",11),n.qZA()()),2&t){let o;n.Q6J("formGroup",u.userForm),n.xp6(1),n.Q6J("ngIf","signup"===u.registration),n.xp6(1),n.Q6J("ngIf","login"===u.registration),n.xp6(2),n.Q6J("ngIf","signup"===u.registration),n.xp6(1),n.Q6J("ngIf",(null==(o=u.userForm.get("name"))?null:o.invalid)&&((null==(o=u.userForm.get("name"))?null:o.touched)||(null==(o=u.userForm.get("name"))?null:o.dirty))),n.xp6(3),n.Q6J("type",u.hide?"password":"text"),n.xp6(2),n.Q6J("ngIf",u.hide),n.xp6(1),n.Q6J("ngIf",!u.hide),n.xp6(1),n.Q6J("ngIf","login"===u.registration),n.xp6(1),n.Q6J("ngIf","signup"===u.registration)}},dependencies:[g.O5,r.Fj,r.Wl,r.JJ,r.JL,r.on,r.sg,r.u,c.yS],styles:[".user[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:35px;margin-bottom:40px}.user__info[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:400px}.user__info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.user__info-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:40px;margin-top:5px}.user__info-checkbox.signup-checkbox[_ngcontent-%COMP%]{align-items:baseline}.user__info-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:14px;height:14px;margin:0}.user__info-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:10px;color:#071739}.user__info-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#709fdc;cursor:pointer}.user__info[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.user__info[_ngcontent-%COMP%]   .user__link[_ngcontent-%COMP%]{color:#071739}.user__info[_ngcontent-%COMP%]   .user__link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#709fdc;cursor:pointer}.user__password[_ngcontent-%COMP%]{position:relative}.user__password-btn[_ngcontent-%COMP%]{position:absolute;right:16px;top:16px;cursor:pointer}"]}),e})();const b=[{path:"login",component:(()=>{class e{constructor(){this.login="login"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:6,vars:1,consts:[[1,"login"],[1,"container"],[1,"login__block"],[3,"registration"],[1,"login__image"],["src","assets/images/login-image.png","alt","login"]],template:function(t,u){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2),n._UZ(3,"auth-account",3),n.qZA(),n.TgZ(4,"div",4),n._UZ(5,"img",5),n.qZA()()()),2&t&&(n.xp6(3),n.Q6J("registration",u.login))},dependencies:[m],styles:[".login[_ngcontent-%COMP%]{padding-top:106px;padding-bottom:92px}@media (max-width: 480px){.login[_ngcontent-%COMP%]{padding-top:90px;padding-bottom:40px;position:relative;top:40px;margin-bottom:50px}}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.login__block[_ngcontent-%COMP%]{width:422px;margin-right:185px}.login__block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%}@media (max-width: 1024px){.login__block[_ngcontent-%COMP%]{max-width:422px;margin-right:50px}}@media (max-width: 768px){.login__block[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 480px){.login__block[_ngcontent-%COMP%]{max-width:290px}}.login__image[_ngcontent-%COMP%]{flex:1 1 50%}.login__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover}@media (max-width: 768px){.login__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}"]}),e})()},{path:"signup",component:(()=>{class e{constructor(){this.signup="signup"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-signup"]],decls:6,vars:1,consts:[[1,"signup"],[1,"container"],[1,"signup__process"],[3,"registration"],[1,"signup__image"],["src","assets/images/signup-image.png","alt","signup"]],template:function(t,u){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2),n._UZ(3,"auth-account",3),n.qZA(),n.TgZ(4,"div",4),n._UZ(5,"img",5),n.qZA()()()),2&t&&(n.xp6(3),n.Q6J("registration",u.signup))},dependencies:[m],styles:[".signup[_ngcontent-%COMP%]{padding-top:123px;padding-bottom:120px}@media (max-width: 480px){.signup[_ngcontent-%COMP%]{padding-top:90px;padding-bottom:40px;position:relative;top:40px;margin-bottom:50px}}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.signup__process[_ngcontent-%COMP%]{width:422px;margin-right:185px}@media (max-width: 1024px){.signup__process[_ngcontent-%COMP%]{max-width:422px;margin-right:50px}}@media (max-width: 768px){.signup__process[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 480px){.signup__process[_ngcontent-%COMP%]{max-width:290px}}.signup__image[_ngcontent-%COMP%]{flex:1 1 50%}.signup__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover}@media (max-width: 768px){.signup__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[c.Bz.forChild(b),c.Bz]}),e})();var F=s(4466);let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.ez,r.UX,F.m,P]}),e})()}}]);